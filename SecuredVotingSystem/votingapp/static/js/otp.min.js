$(document).ready(function() {
      // Listen for keyup event on the 'otp' input field
      $('#otp').keyup(function() {
        // Get the value entered in the input field
        var otp = $(this).val();

        // Make an AJAX POST request to the Django backend
        $.ajax({
          url: '/otp',  // URL for the Django view to handle OTP verification
          type: 'POST',
          headers:{
            "X-CSRFToken" : $("input[name=csrfmiddlewaretoken]").val()
          },
          data: {
            otp: otp  // Send the entered OTP as data
          },
          success: function(result) {
            //parse response
            response = JSON.parse(result).value;
            // Handle the response from the backend
            if (response === true) {
              // OTP is valid, do something
              console.log('OTP is valid');
              window.location.replace('/vote')
            } else {
              // OTP is invalid, do something
              console.log('OTP is invalid');
            }
          },
          error: function(result) {
            // Handle any error during the AJAX request
            console.log('Error:', result);
          }
        });
      });
    });